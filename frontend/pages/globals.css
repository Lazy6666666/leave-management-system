@tailwind base;
@tailwind components;
@tailwind utilities;



@layer components {
  /* 8-point spacing system utilities */
  .space-micro { @apply space-y-1; }
  .space-small { @apply space-y-3; }
  .space-medium { @apply space-y-6; }
  .space-large { @apply space-y-12; }

  .gap-micro { @apply gap-1; }
  .gap-small { @apply gap-3; }
  .gap-medium { @apply gap-6; }
  .gap-large { @apply gap-12; }

  /* Container utilities */
  .container-page {
    @apply max-w-screen-xl mx-auto px-4 md:px-6 lg:px-8;
  }

  .container-narrow {
    @apply max-w-4xl mx-auto px-4 md:px-6;
  }

  /* Card padding utilities - Responsive */
  .card-padding-compact { @apply p-3 md:p-4; }
  .card-padding-default { @apply p-4 md:p-6; }
  .card-padding-spacious { @apply p-6 md:p-8; }

  /* Responsive spacing utilities */
  .space-responsive-sm { @apply space-y-3 md:space-y-4; }
  .space-responsive-md { @apply space-y-4 md:space-y-6; }
  .space-responsive-lg { @apply space-y-6 md:space-y-8; }
  
  .gap-responsive-sm { @apply gap-3 md:gap-4; }
  .gap-responsive-md { @apply gap-4 md:gap-6; }
  .gap-responsive-lg { @apply gap-6 md:gap-8; }

  /* Responsive padding utilities */
  .p-responsive-sm { @apply p-3 md:p-4; }
  .p-responsive-md { @apply p-4 md:p-6 lg:p-8; }
  .p-responsive-lg { @apply p-6 md:p-8 lg:p-12; }
  
  .px-responsive-sm { @apply px-3 md:px-4; }
  .px-responsive-md { @apply px-4 md:px-6 lg:px-8; }
  .px-responsive-lg { @apply px-6 md:px-8 lg:px-12; }
  
  .py-responsive-sm { @apply py-3 md:py-4; }
  .py-responsive-md { @apply py-4 md:py-6 lg:py-8; }
  .py-responsive-lg { @apply py-6 md:py-8 lg:py-12; }

  /* Typography utilities - Responsive with proper line-height */
  .text-display {
    @apply text-4xl md:text-5xl lg:text-6xl font-bold tracking-tighter leading-tight break-words;
  }

  .text-h1 {
    @apply text-3xl md:text-4xl font-bold tracking-tight leading-relaxed break-words;
  }

  .text-h2 {
    @apply text-2xl md:text-3xl font-semibold tracking-tight leading-relaxed break-words;
  }

  .text-h3 {
    @apply text-xl md:text-2xl font-semibold leading-relaxed break-words;
  }

  .text-h4 {
    @apply text-lg md:text-xl font-semibold leading-relaxed break-words;
  }

  .text-h5 {
    @apply text-base md:text-lg font-semibold leading-relaxed break-words;
  }

  .text-h6 {
    @apply text-sm md:text-base font-semibold leading-relaxed break-words;
  }

  .text-body-large {
    @apply text-base md:text-lg leading-relaxed break-words whitespace-normal;
  }

  .text-body {
    @apply text-sm md:text-base leading-relaxed break-words whitespace-normal;
  }

  .text-body-small {
    @apply text-xs md:text-sm leading-relaxed break-words whitespace-normal;
  }

  .text-label {
    @apply text-xs md:text-sm font-medium leading-relaxed break-words;
  }

  .text-caption {
    @apply text-xs leading-relaxed break-words;
  }

  /* Micro-interaction utilities */
  .hover-lift {
    @apply transition-transform duration-200 hover:-translate-y-0.5 hover:shadow-md;
  }

  .hover-glow {
    @apply transition-shadow duration-200 hover:shadow-lg hover:shadow-primary/20;
  }

  .hover-scale {
    @apply transition-transform duration-200 hover:scale-105;
  }

  .hover-scale-sm {
    @apply transition-transform duration-200 hover:scale-102;
  }

  .active-scale {
    @apply transition-transform duration-100 active:scale-95;
  }

  .focus-ring-strong {
    @apply focus-visible:ring-4 focus-visible:ring-ring/30;
  }

  /* Interactive element base */
  .interactive {
    @apply transition-all duration-200 hover:shadow-sm active:scale-98;
  }

  /* Page transition wrapper */
  .page-transition {
    @apply animate-fade-in;
  }

  /* Card hover effect */
  .card-interactive {
    @apply transition-all duration-200 hover:shadow-md hover:border-primary/30 hover:-translate-y-0.5;
  }
}

@layer base {
  * {
    @apply border-border;
    box-sizing: border-box;
  }

  html {
    @apply scroll-smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply text-foreground font-sans;
    background-image: linear-gradient(to bottom right, var(--background-start), var(--background-end));
    background-attachment: fixed;
    font-feature-settings: "rlig" 1, "calt" 1;
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Global text wrapping and overflow prevention */
  p, span, div, h1, h2, h3, h4, h5, h6, li, td, th {
    word-wrap: break-word;
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: auto;
  }

  /* Ensure all containers prevent overflow */
  .card, section, article, main, aside {
    max-width: 100%;
    overflow-wrap: break-word;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    @apply w-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-muted;
  }

  ::-webkit-scrollbar-thumb {
    background-color: hsl(var(--border) / 0.5);
    @apply rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--border));
  }

  /* Focus styles - Enhanced for WCAG compliance */
  *:focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }

  /* Ensure focus indicators are always visible */
  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible,
  [role="button"]:focus-visible,
  [role="link"]:focus-visible,
  [tabindex]:not([tabindex="-1"]):focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }

  /* High contrast focus for better visibility */
  @media (prefers-contrast: high) {
    *:focus-visible {
      @apply ring-4 ring-ring;
    }
  }

  /* Animation improvements */
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slide-in {
    from {
      opacity: 0;
      transform: translateX(-10px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes slide-in-right {
    from {
      opacity: 0;
      transform: translateX(10px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes scale-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  .animate-fade-in {
    animation: fade-in 0.5s ease-out;
  }

  .animate-slide-in {
    animation: slide-in 0.3s ease-out;
  }

  .animate-slide-in-right {
    animation: slide-in-right 0.3s ease-out;
  }

  .animate-scale-in {
    animation: scale-in 0.2s ease-out;
  }

  /* Staggered animation delays for lists */
  .animate-stagger > *:nth-child(1) { animation-delay: 0ms; }
  .animate-stagger > *:nth-child(2) { animation-delay: 50ms; }
  .animate-stagger > *:nth-child(3) { animation-delay: 100ms; }
  .animate-stagger > *:nth-child(4) { animation-delay: 150ms; }
  .animate-stagger > *:nth-child(5) { animation-delay: 200ms; }
  .animate-stagger > *:nth-child(6) { animation-delay: 250ms; }

  /* Smooth theme transition */
  html.transitioning,
  html.transitioning *,
  html.transitioning *::before,
  html.transitioning *::after {
    transition: background-color 0.3s ease-in-out, 
                border-color 0.3s ease-in-out, 
                color 0.3s ease-in-out !important;
    transition-delay: 0s !important;
  }

  /* Respect user's motion preferences */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }

    /* Keep essential transitions for usability */
    button,
    a,
    input,
    select,
    textarea {
      transition: opacity 0.15s ease-in-out !important;
    }
  }
}

@layer base {
  :root {
    --radius: 0.625rem;
    --radius-sm: calc(var(--radius) - 4px);
    --radius-md: calc(var(--radius) - 2px);
    --radius-lg: var(--radius);
    --radius-xl: calc(var(--radius) + 4px);
    
    /* Light Mode */
    --background-start: oklch(99% 0.01 259.46);
    --background-end: oklch(100% 0 0);
    --background: oklch(100% 0 0); /* White */
    --foreground: oklch(0% 0 0); /* Black */
    --card: oklch(100% 0 0); /* White */
    --card-foreground: oklch(0% 0 0); /* Black */
    --popover: oklch(100% 0 0); /* White */
    --popover-foreground: oklch(0% 0 0); /* Black */
    --primary: oklch(58.31% 0.181 259.46); /* #007BFF */
    --primary-foreground: oklch(100% 0 0); /* White */
    --secondary: oklch(55.91% 0.023 255.1); /* #6C757D */
    --secondary-foreground: oklch(100% 0 0); /* White */
    --muted: oklch(97.38% 0.005 259.46); /* #F8F9FA */
    --muted-foreground: oklch(55.91% 0.023 255.1); /* #6C757D */
    --accent: oklch(58.31% 0.181 259.46); /* #007BFF */
    --accent-foreground: oklch(100% 0 0); /* White */
    --destructive: oklch(56.11% 0.19 25.54); /* #DC3545 */
    --success: oklch(63.13% 0.14 151.32); /* #28A745 */
    --border: oklch(55.91% 0.023 255.1); /* #6C757D */
    --input: oklch(97.38% 0.005 259.46); /* #F8F9FA */
    --ring: oklch(58.31% 0.181 259.46); /* #007BFF */
  }

  .dark {
    /* Dark Mode */
    --background-start: oklch(15% 0.02 259.46);
    --background-end: oklch(0% 0 0);
    --background: oklch(0% 0 0); /* Black */
    --foreground: oklch(100% 0 0); /* White */
    --card: oklch(0% 0 0); /* Black */
    --card-foreground: oklch(100% 0 0); /* White */
    --popover: oklch(0% 0 0); /* Black */
    --popover-foreground: oklch(100% 0 0); /* White */
    --primary: oklch(58.31% 0.181 259.46); /* #007BFF */
    --primary-foreground: oklch(100% 0 0); /* White */
    --secondary: oklch(55.91% 0.023 255.1); /* #6C757D */
    --secondary-foreground: oklch(100% 0 0); /* White */
    --muted: oklch(55.91% 0.023 255.1); /* #6C757D */
    --muted-foreground: oklch(97.38% 0.005 259.46); /* #F8F9FA */
    --accent: oklch(58.31% 0.181 259.46); /* #007BFF */
    --accent-foreground: oklch(100% 0 0); /* White */
    --destructive: oklch(56.11% 0.19 25.54); /* #DC3545 */
    --success: oklch(63.13% 0.14 151.32); /* #28A745 */
    --border: oklch(55.91% 0.023 255.1); /* #6C757D */
    --input: oklch(55.91% 0.023 255.1); /* #6C757D */
    --ring: oklch(58.31% 0.181 259.46); /* #007BFF */
  }
}
